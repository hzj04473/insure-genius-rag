# AI 보험 플랫폼 구현 계획

## 구현 작업 목록

- [ ] 1. 프로젝트 기반 구조 설정 및 핵심 모델 구현

  - Django 프로젝트 구조 설정 및 앱 분리
  - CustomUser 모델 구현 및 인증 시스템 구축
  - 기본 URL 라우팅 및 템플릿 구조 설정
  - _요구사항: 1.1, 1.2, 1.3, 1.4_

- [ ] 2. 사용자 인증 및 프로필 관리 시스템 구현

  - [ ] 2.1 회원가입 및 로그인 기능 구현

    - CustomUserCreationForm 및 인증 뷰 작성
    - 회원가입/로그인 템플릿 구현
    - 세션 관리 및 리다이렉션 로직 구현
    - _요구사항: 1.1, 1.2_

  - [ ] 2.2 사용자 프로필 관리 기능 구현
    - EmailPasswordChangeForm 구현
    - 마이페이지 뷰 및 템플릿 작성
    - 프로필 수정 검증 로직 구현
    - _요구사항: 1.3, 1.4_

- [ ] 3. 보험 추천 시스템 핵심 로직 구현

  - [ ] 3.1 InsuranceQuote 모델 및 추천 엔진 구현

    - InsuranceQuote 모델 정의 및 마이그레이션
    - 보험료 계산 알고리즘 구현
    - 점수화 시스템 구현
    - _요구사항: 2.1, 2.3, 2.4_

  - [ ] 3.2 추천 API 및 사용자 인터페이스 구현
    - 추천 요청 처리 뷰 구현
    - 사용자 입력 폼 및 결과 표시 템플릿 작성
    - AJAX 기반 실시간 추천 기능 구현
    - _요구사항: 2.2, 2.4_

- [ ] 4. 문서 처리 및 벡터 검색 시스템 구현

  - [ ] 4.1 PDF 처리 및 텍스트 추출 시스템 구현

    - EnhancedPDFProcessor 클래스 구현
    - 다중 PDF 라이브러리 지원 (PyMuPDF, PyPDF2, pdfplumber)
    - OCR 기능 구현 (pytesseract)
    - _요구사항: 6.1, 6.5_

  - [ ] 4.2 벡터 임베딩 및 Pinecone 연동 구현
    - 텍스트 청크 분할 로직 구현
    - 임베딩 모델 연동 (Sentence Transformers)
    - Pinecone 클라이언트 및 업로드 기능 구현
    - _요구사항: 6.2, 6.3_

- [ ] 5. RAG 기반 질의응답 시스템 구현

  - [ ] 5.1 벡터 검색 및 문서 검색 엔진 구현

    - Pinecone 벡터 검색 함수 구현
    - 검색 결과 중복 제거 및 필터링 로직 구현
    - 유사도 기반 문서 순위 결정 알고리즘 구현
    - _요구사항: 3.1, 3.2, 6.4_

  - [ ] 5.2 질문 의도 분석 및 답변 생성 시스템 구현
    - 질문 의도 라우팅 로직 구현 (약관형 vs 일반형)
    - RAG 기반 답변 생성 파이프라인 구현
    - LLM 클라이언트 연동 및 답변 정제 로직 구현
    - _요구사항: 3.3, 3.4, 3.5_

- [ ] 6. 보험 용어 사전 시스템 구현

  - [ ] 6.1 GlossaryTerm 모델 및 데이터 관리 구현

    - GlossaryTerm 모델 정의 및 인덱스 설정
    - 용어 데이터 로드 관리 명령어 구현
    - 카테고리 및 버킷 분류 시스템 구현
    - _요구사항: 4.1, 4.3_

  - [ ] 6.2 용어 검색 및 사용자 인터페이스 구현
    - 용어 검색 API 및 뷰 구현
    - 검색 필터링 (용어명, 정의, 동의어) 로직 구현
    - 용어 사전 템플릿 및 연관 용어 링크 구현
    - _요구사항: 4.2, 4.4, 4.5_

- [ ] 7. 교통사고 관리 시스템 리팩토링 및 완성

  - [ ] 7.1 레거시 코드 정리 및 모델 표준화

    - `views old.py`, `views old_2(0824_01s).py` 파일 제거
    - Agreement 모델 필드 정의 명확화 (damages_raw JSONField 변경)
    - 폼 검증 로직 단순화 (런타임 필드 체크 제거)
    - _요구사항: 5.1, 8.2, 8.3_

  - [ ] 7.2 뷰 함수 통합 및 권한 처리 표준화

    - 중복된 권한 확인 로직을 데코레이터로 통합
    - 협의서 CRUD 기능 최적화 (생성, 조회, 수정, 삭제)
    - 에러 처리 및 사용자 피드백 개선
    - _요구사항: 5.6, 5.7, 8.3_

  - [ ] 7.3 PDF 출력 및 개인정보 보호 기능 개선
    - reportlab 기반 PDF 생성 로직 최적화
    - 주민등록번호 마스킹 기능 강화
    - 파일 다운로드 보안 검증 추가
    - _요구사항: 5.3, 5.4_

- [ ] 8. 시스템 보안 및 성능 최적화 구현

  - [ ] 8.1 보안 강화 및 환경 설정 구현

    - 환경 변수 기반 설정 관리 구현
    - CSRF 보호 및 XSS 방지 설정
    - 사용자 권한 기반 접근 제어 구현
    - _요구사항: 7.1, 7.2_

  - [ ] 8.2 성능 최적화 및 캐싱 시스템 구현
    - 데이터베이스 쿼리 최적화 및 인덱스 설정
    - 정적 파일 압축 및 캐싱 구현
    - 벡터 검색 결과 캐싱 시스템 구현
    - _요구사항: 7.3, 7.4, 7.5_

- [ ] 9. 통합 테스트 및 API 엔드포인트 구현

  - [ ] 9.1 핵심 기능 단위 테스트 작성

    - 모델 메서드 및 폼 검증 테스트 작성
    - 유틸리티 함수 및 AI 서비스 테스트 작성
    - 데이터베이스 연동 테스트 작성
    - _요구사항: 모든 요구사항 검증_

  - [ ] 9.2 API 통합 테스트 및 성능 테스트 구현
    - RESTful API 엔드포인트 테스트 작성
    - 외부 서비스 연동 테스트 (OpenAI, Pinecone) 작성
    - 동시 사용자 처리 성능 테스트 구현
    - _요구사항: 모든 요구사항 통합 검증_

- [ ] 10. 프로젝트 구조 리팩토링 및 통합

  - [ ] 10.1 폴더 구조 정리 및 경로 수정

    - `0826-5/` 아카이브 폴더 내 중복 경로 제거
    - 필요한 파일들만 적절한 위치로 이동
    - `settings.py`의 경로 설정 업데이트 및 검증
    - _요구사항: 8.1_

  - [ ] 10.2 프론트엔드 디자인 시스템 통합

    - 각 앱별 다른 디자인을 통합 디자인 시스템으로 표준화
    - JavaScript 모듈 중복 기능 통합 (`chatbot.js`, `fault_answer.js`, `fab-controller.js`)
    - CSS 스타일 일관성 확보 및 공통 컴포넌트 라이브러리 구축
    - _요구사항: 8.4, 8.5_

  - [ ] 10.3 전체 시스템 오류 검증 및 수정

    - 모든 URL 라우팅 검증 및 네임스페이스 정리
    - 템플릿 참조 오류 수정 및 경로 검증
    - JavaScript 함수 호출 오류 및 의존성 문제 해결
    - _요구사항: 8.1, 8.2, 8.3_

- [ ] 11. 배포 준비 및 문서화 완성

  - [ ] 11.1 운영 환경 설정 및 배포 스크립트 구현

    - PostgreSQL 연동 설정 구현
    - 정적 파일 수집 및 서빙 설정
    - 환경별 설정 분리 (개발/운영) 구현
    - _요구사항: 시스템 운영 요구사항_

  - [ ] 11.2 사용자 가이드 및 API 문서 작성
    - 사용자 매뉴얼 및 기능 가이드 작성
    - API 문서 및 개발자 가이드 작성
    - 시스템 관리자 가이드 작성
    - _요구사항: 문서화 요구사항_
